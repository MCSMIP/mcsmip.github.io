<!DOCTYPE html>
<html lang="en-us">

  {% include head.html %}

  <body>

    {% if page.url == "/" %}
      {% include sidebar.html %}
    {% endif %}

    <div class="content container">
      {{ content }}
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function() {
        window.openLightbox = function(imageSrc) {
          console.log("openLightbox called with:", imageSrc);
          const lightbox = document.getElementById('lightbox');
          const lightboxImg = document.getElementById('lightbox-img');
    
          if (!lightbox || !lightboxImg) {
            console.error("Lightbox elements not found!");
            return;
          }
    
          lightboxImg.src = imageSrc;
          lightbox.style.display = 'flex';
          document.body.style.cursor = "pointer"; // Ensure pointer stays
        };
    
        window.closeLightbox = function() {
          const lightbox = document.getElementById('lightbox');
          if (lightbox) {
            lightbox.style.display = 'none';
          }
          document.body.style.cursor = "default"; // Reset when closing
        };
    
        document.querySelectorAll(".figure-container img").forEach(img => {
          img.addEventListener("click", function() {
            const fullImageSrc = this.getAttribute("data-fullsize");
            if (fullImageSrc) {
              openLightbox(fullImageSrc);
              document.body.style.cursor = "pointer"; // Force pointer on open
            }
          });
        });
      });
    </script>
    
  </body>
</html>
